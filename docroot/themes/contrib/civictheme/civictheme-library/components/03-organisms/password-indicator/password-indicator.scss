//
// Password Indicator component.
//

.civictheme-password-indicator {
  $root: &;

  &--weak {
    #{$root}__progress-bar {
      width: 25%;
    }
  }

  &--fair {
    #{$root}__progress-bar {
      width: 50%;
    }
  }

  &--good {
    #{$root}__progress-bar {
      width: 75%;
    }
  }

  &--strong {
    #{$root}__progress-bar {
      width: 100%;
    }
  }

  &__progress {
    width: rem(308px);
    height: rem(3px);
    // stylelint-disable-next-line property-no-vendor-prefix
    -webkit-mask-image: $civictheme-password-indicator-progress-mask;
    mask-image: $civictheme-password-indicator-progress-mask;
    margin-top: civictheme-space(2);
    position: relative;
  }

  &__progress-bar {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    width: 0;
    transition: 1s width, background-color;
  }

  &__status {
    @include civictheme-typography('label-small');

    margin-top: civictheme-space();

    &::before {
      content: '';
      width: rem(24px);
      height: rem(24px);
      display: inline-block;
      vertical-align: middle;
      margin-right: civictheme-space();
    }
  }

  &__message {
    @include civictheme-typography('label-small');

    padding: civictheme-space() 0;

    ul {
      margin: civictheme-space() 0;
      padding: 0;
      padding-left: civictheme-space(2);
    }
  }

  &.civictheme-theme-light {
    &#{$root}--weak {
      #{$root}__progress-bar {
        background-color: $civictheme-password-indicator-light-weak-color;
      }

      #{$root}__status {
        &::before {
          background-image: civictheme-color-svg-fill($civictheme-password-indicator-weak-icon, $civictheme-password-indicator-light-weak-color);
        }
      }
    }

    &#{$root}--fair {
      #{$root}__progress-bar {
        background-color: $civictheme-password-indicator-light-fair-color;
      }

      #{$root}__status {
        &::before {
          background-image: civictheme-color-svg-fill($civictheme-password-indicator-weak-icon, $civictheme-password-indicator-light-fair-color);
        }
      }
    }

    &#{$root}--good {
      #{$root}__progress-bar {
        background-color: $civictheme-password-indicator-light-good-color;
      }

      #{$root}__status {
        &::before {
          background-image: civictheme-color-svg-fill($civictheme-password-indicator-strong-icon, $civictheme-password-indicator-light-good-color);
        }
      }
    }

    &#{$root}--strong {
      #{$root}__progress-bar {
        background-color: $civictheme-password-indicator-light-great-color;
      }

      #{$root}__status {
        &::before {
          background-image: civictheme-color-svg-fill($civictheme-password-indicator-strong-icon, $civictheme-password-indicator-light-great-color);
        }
      }
    }

    #{$root}__progress {
      background-color: $civictheme-password-indicator-light-progress-background-color;
    }
  }

  &.civictheme-theme-dark {
    &#{$root}--weak {
      #{$root}__progress-bar {
        background-color: $civictheme-password-indicator-dark-weak-color;
      }

      #{$root}__status {
        &::before {
          background-image: civictheme-color-svg-fill($civictheme-password-indicator-weak-icon, $civictheme-password-indicator-dark-weak-color);
        }
      }
    }

    &#{$root}--fair {
      #{$root}__progress-bar {
        background-color: $civictheme-password-indicator-dark-fair-color;
      }

      #{$root}__status {
        &::before {
          background-image: civictheme-color-svg-fill($civictheme-password-indicator-weak-icon, $civictheme-password-indicator-dark-fair-color);
        }
      }
    }

    &#{$root}--good {
      #{$root}__progress-bar {
        background-color: $civictheme-password-indicator-dark-good-color;
      }

      #{$root}__status {
        &::before {
          background-image: civictheme-color-svg-fill($civictheme-password-indicator-strong-icon, $civictheme-password-indicator-dark-good-color);
        }
      }
    }

    &#{$root}--strong {
      #{$root}__progress-bar {
        background-color: $civictheme-password-indicator-dark-great-color;
      }

      #{$root}__status {
        &::before {
          background-image: civictheme-color-svg-fill($civictheme-password-indicator-strong-icon, $civictheme-password-indicator-dark-great-color);
        }
      }
    }

    #{$root}__progress {
      background-color: $civictheme-password-indicator-dark-progress-background-color;
    }
  }
}
