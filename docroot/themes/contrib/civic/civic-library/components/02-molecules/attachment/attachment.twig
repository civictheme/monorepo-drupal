{#
/**
 * @file
 * attachment component.
 *
 * Display of attachment component.
 *
 * Variables:
 * - theme: [string] Theme for attachment.
 * - content_top: [string] Component slot for top of attachment.
 * - title: [string] attachment title.
 * - summary: [string] attachment summary.
 * - links: [array] Array of Link objects containing type, url, text
 * - content_bottom: [string] Component slot for bottom of attachment.
 */
#}

{% set theme_class = 'civic-theme-%s'|format(theme|default('light')) %}
{% set modifier_class = '%s %s'|format(theme_class, modifier_class) %}

<div class="civic-attachment {{ modifier_class }}">

  <div class="civic-attachment__content">
    {% if content_top is not empty %}
      <div class="civic-attachment__content-top">
        {{ content_top }}
      </div>
    {% endif %}

    <div class="civic-attachment__text">
      <div class="civic-attachment__title">
        {{ title }}
      </div>

      {% if summary is not empty %}
        <div class="civic-attachment__summary">
          {{ summary }}
        </div>
      {% endif %}
    </div>

    {% if links is not empty %}
      <ul class="civic-attachment__links">
        {% for linkObj in links %}
          <li class="civic-attachment__links--link">
            <span>
              {% include '@atoms/icon/icon.twig' with {
                symbol: linkObj.icon ? linkObj.icon : 'fileandfolders_document',
              } only %}
            </span>
            <div>
              {% include '@atoms/link/link.twig' with {
                theme: theme,
                text: linkObj.text,
                url: linkObj.url,
                modifier_class: 'civic-link--attachment'
              } only %}

              {% if linkObj.last_updated is not empty %}
                <div class="civic-attachment__links--last-updated">LAST
                  UPDATED: {{ linkObj.last_updated }}</div>
              {% endif %}
            </div>
          </li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if content_bottom is not empty %}
      <div class="civic-attachment__content-bottom">
        {{ content_bottom }}
      </div>
    {% endif %}
  </div>
</div>
